"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([[278],{7086:function(e,o,t){t.d(o,{iR:function(){return u},pS:function(){return a},ww:function(){return p}});var n=t(4380),r=t(166),i=t(2237),s=t(844),c=t(9333),l=t(338),d=t(8313);const u=e=>{const{navigate:o}=(0,r.useRouter)(),{handleManageAccountClicked:t,handleSignOutSessionClicked:d,handleUserProfileActionClicked:u,session:a}=e,{menutItems:p}=(0,s.useUserButtonContext)(),B=e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100,padding:`${e.space.$4} ${e.space.$5}`});return(0,n.Y)(l.Actions,{role:"menu",elementDescriptor:c.descriptors.userButtonPopoverActions,elementId:c.descriptors.userButtonPopoverActions.setId("singleSession"),sx:e=>({borderTopWidth:e.borderWidths.$normal,borderTopStyle:e.borderStyles.$solid,borderTopColor:e.colors.$neutralAlpha100}),children:null==p?void 0:p.map((r=>{let s;return s=Object.values(i.dY).includes(r.id)?{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId(r.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId(r.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId(r.id)}:{elementDescriptor:c.descriptors.userButtonPopoverCustomItemButton,elementId:c.descriptors.userButtonPopoverCustomItemButton.setId(r.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(r.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionItemButtonIcon.setId(r.id)},(0,n.Y)(l.Action,{...s,icon:r.icon,label:r.name,onClick:r.id===i.dY.SIGN_OUT?d(a):()=>(async n=>{var r;return(null==n?void 0:n.path)?(await o(n.path),null==e?void 0:e.completedCallback()):n.id===i.dY.MANAGE_ACCOUNT?await t():(null==n?void 0:n.open)?u(n.open):(null===(r=n.onClick)||void 0===r||r.call(n),null==e?void 0:e.completedCallback())})(r),sx:B,iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4})},r.id)}))})},a=e=>{const{navigate:o}=(0,r.useRouter)(),{handleManageAccountClicked:t,handleSignOutSessionClicked:u,handleSessionClicked:a,handleAddAccountClicked:p,handleUserProfileActionClicked:B,session:m,otherSessions:v}=e,{menutItems:I}=(0,s.useUserButtonContext)(),A=I.every((e=>Object.values(i.dY).includes(e.id)));return(0,n.FD)(n.FK,{children:[A?(0,n.Y)(l.SmallActions,{role:"menu",elementDescriptor:c.descriptors.userButtonPopoverActions,elementId:c.descriptors.userButtonPopoverActions.setId("multiSession"),children:(0,n.FD)(c.Flex,{justify:"between",sx:e=>({marginLeft:e.space.$12,padding:`0 ${e.space.$5} ${e.space.$4}`,gap:e.space.$2}),children:[(0,n.Y)(l.SmallAction,{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId("manageAccount"),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId("manageAccount"),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId("manageAccount"),icon:d.Ko,label:(0,c.localizationKeys)("userButton.action__manageAccount"),onClick:t}),(0,n.Y)(l.SmallAction,{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId("signOut"),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId("signOut"),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId("signOut"),icon:d.Mt,label:(0,c.localizationKeys)("userButton.action__signOut"),onClick:u(m)})]})}):(0,n.Y)(l.SmallActions,{role:"menu",elementDescriptor:c.descriptors.userButtonPopoverActions,elementId:c.descriptors.userButtonPopoverActions.setId("multiSession"),sx:e=>({gap:e.space.$1,paddingBottom:e.space.$2}),children:null==I?void 0:I.map((r=>{let s;return s=Object.values(i.dY).includes(r.id)?{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId(r.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId(r.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId(r.id)}:{elementDescriptor:c.descriptors.userButtonPopoverCustomItemButton,elementId:c.descriptors.userButtonPopoverCustomItemButton.setId(r.id),iconBoxElementDescriptor:c.descriptors.userButtonPopoverCustomItemButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverCustomItemButtonIconBox.setId(r.id),iconElementDescriptor:c.descriptors.userButtonPopoverActionItemButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionItemButtonIcon.setId(r.id)},(0,n.Y)(l.Action,{...s,icon:r.icon,label:r.name,onClick:r.id===i.dY.SIGN_OUT?u(m):()=>(async n=>{var r;return(null==n?void 0:n.path)?(await o(n.path),null==e?void 0:e.completedCallback()):n.id===i.dY.MANAGE_ACCOUNT?await t():(null==n?void 0:n.open)?B(n.open):(null===(r=n.onClick)||void 0===r||r.call(n),null==e?void 0:e.completedCallback())})(r),sx:e=>({border:0,padding:`${e.space.$2} ${e.space.$5}`,gap:e.space.$3x5}),iconSx:e=>({width:e.sizes.$4,height:e.sizes.$4}),iconBoxSx:e=>({minHeight:e.sizes.$4,minWidth:e.sizes.$4,alignItems:"center"})},r.id)}))}),(0,n.FD)(l.Actions,{role:"menu",sx:e=>({borderTopStyle:e.borderStyles.$solid,borderTopWidth:e.borderWidths.$normal,borderTopColor:e.colors.$neutralAlpha100}),children:[v.map((e=>(0,n.Y)(l.PreviewButton,{icon:d.yO,onClick:a(e),role:"menuitem",children:(0,n.Y)(l.UserPreview,{user:e.user})},e.id))),(0,n.Y)(l.Action,{elementDescriptor:c.descriptors.userButtonPopoverActionButton,elementId:c.descriptors.userButtonPopoverActionButton.setId("addAccount"),iconBoxElementDescriptor:c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:c.descriptors.userButtonPopoverActionButtonIconBox.setId("addAccount"),iconElementDescriptor:c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:c.descriptors.userButtonPopoverActionButtonIcon.setId("addAccount"),icon:d.OM,label:(0,c.localizationKeys)("userButton.action__addAccount"),onClick:p,iconSx:e=>({width:e.sizes.$9,height:e.sizes.$6}),iconBoxSx:e=>({minHeight:e.sizes.$9,minWidth:e.sizes.$6,alignItems:"center"}),spinnerSize:"md"})]})]})},p=e=>{const{handleSignOutAllClicked:o,elementDescriptor:t,elementId:r,iconBoxElementDescriptor:i,iconBoxElementId:s,iconElementDescriptor:u,iconElementId:a,label:p,sx:B,actionSx:m}=e;return(0,n.Y)(l.Actions,{role:"menu",sx:[e=>({padding:e.space.$2}),B],children:(0,n.Y)(l.Action,{elementDescriptor:t||c.descriptors.userButtonPopoverActionButton,elementId:r||c.descriptors.userButtonPopoverActionButton.setId("signOutAll"),iconBoxElementDescriptor:i||c.descriptors.userButtonPopoverActionButtonIconBox,iconBoxElementId:s||c.descriptors.userButtonPopoverActionButtonIconBox.setId("signOutAll"),iconElementDescriptor:u||c.descriptors.userButtonPopoverActionButtonIcon,iconElementId:a||c.descriptors.userButtonPopoverActionButtonIcon.setId("signOutAll"),icon:d.Mt,label:p||(0,c.localizationKeys)("userButton.action__signOutAll"),onClick:o,variant:"ghost",colorScheme:"neutral",sx:[e=>({backgroundColor:e.colors.$transparent,padding:`${e.space.$2} ${e.space.$3}`,borderBottomWidth:0,borderRadius:e.radii.$lg}),m],spinnerSize:"md"})})}},9721:function(e,o,t){t.r(o),t.d(o,{UserButton:function(){return A}});var n=t(4380),r=t(4041),i=t(844),s=t(9333),c=t(338),l=t(5909),d=t(3931),u=t(7086),a=t(3962);const p=r.forwardRef(((e,o)=>{const{close:t,...r}=e,{session:l}=(0,d.wV)(),{authConfig:p}=(0,i.useEnvironment)(),{user:B}=(0,d.Jd)(),{handleAddAccountClicked:m,handleManageAccountClicked:v,handleSessionClicked:I,handleSignOutAllClicked:A,handleSignOutSessionClicked:h,handleUserProfileActionClicked:C,otherSessions:g}=(0,a.u)({...(0,i.useUserButtonContext)(),actionCompleteCallback:t,user:B});return(0,n.Y)(c.RootBox,{elementDescriptor:s.descriptors.userButtonPopoverRootBox,children:(0,n.FD)(c.PopoverCard.Root,{elementDescriptor:s.descriptors.userButtonPopoverCard,ref:o,role:"dialog","aria-label":"User button popover",...r,children:[(0,n.FD)(c.PopoverCard.Content,{elementDescriptor:s.descriptors.userButtonPopoverMain,children:[(0,n.Y)(c.UserPreview,{elementId:"userButton",user:B,sx:e=>({width:"100%",padding:`${e.space.$4} ${e.space.$5}`})}),p.singleSessionMode?(0,n.Y)(u.iR,{handleManageAccountClicked:v,handleSignOutSessionClicked:h,handleUserProfileActionClicked:C,session:l,completedCallback:t}):(0,n.Y)(u.pS,{session:l,otherSessions:g,handleManageAccountClicked:v,handleSignOutSessionClicked:h,handleSessionClicked:I,handleAddAccountClicked:m,handleUserProfileActionClicked:C,completedCallback:t})]}),(0,n.Y)(c.PopoverCard.Footer,{elementDescriptor:s.descriptors.userButtonPopoverFooter,children:!p.singleSessionMode&&g.length>0&&(0,n.Y)(u.ww,{handleSignOutAllClicked:A})})]})})}));var B=t(8740);const m=({showName:e})=>{const{user:o}=(0,d.Jd)();return o&&e?(0,n.Y)(s.Text,{variant:"subtitle",as:"span",elementDescriptor:s.descriptors.userButtonOuterIdentifier,sx:[e=>({paddingLeft:e.space.$2})],children:(0,B.dS)(o)||(0,B.Cm)(o)}):null},v=(0,c.withAvatarShimmer)((0,r.forwardRef)(((e,o)=>{const{sx:t,...r}=e,{user:l}=(0,d.Jd)(),{showName:u}=(0,i.useUserButtonContext)();return(0,n.Y)(s.Button,{elementDescriptor:s.descriptors.userButtonTrigger,variant:"roundWrapper",sx:[e=>({borderRadius:u?e.radii.$md:e.radii.$circle,color:e.colors.$colorText}),t],ref:o,"aria-label":(e.isOpen?"Close":"Open")+" user button","aria-expanded":e.isOpen,"aria-haspopup":"dialog",...r,children:(0,n.FD)(s.Flex,{elementDescriptor:s.descriptors.userButtonBox,isOpen:e.isOpen,align:"center",as:"span",gap:2,children:[(0,n.Y)(m,{showName:u}),(0,n.Y)(c.UserAvatar,{boxElementDescriptor:s.descriptors.userButtonAvatarBox,imageElementDescriptor:s.descriptors.userButtonAvatarImage,...l,size:e=>e.sizes.$7})]})})}))),I=(0,c.withFloatingTree)((()=>{const{defaultOpen:e}=(0,i.useUserButtonContext)(),{floating:o,reference:t,styles:d,toggle:u,isOpen:a,nodeId:B,context:m}=(0,l.fP)({defaultOpen:e,placement:"bottom-end",offset:8}),I=(0,r.useId)();return(0,n.FD)(s.Flow.Root,{flow:"userButton",sx:{display:"inline-flex"},children:[(0,n.Y)(v,{ref:t,onClick:u,isOpen:a,"aria-controls":a?I:void 0,"aria-expanded":a}),(0,n.Y)(c.Popover,{nodeId:B,context:m,isOpen:a,children:(0,n.Y)(p,{id:I,close:u,ref:o,style:{...d}})})]})})),A=(0,i.withCoreUserGuard)((0,c.withCardStateProvider)(I))},3962:function(e,o,t){t.d(o,{u:function(){return d}});var n=t(3931),r=t(3132),i=t(338),s=t(9029),c=t(166),l=t(9927);const d=e=>{const{setActive:o,signOut:t,openUserProfile:d}=(0,n.ho)(),u=(0,i.useCardState)(),{activeSessions:a,otherSessions:p}=(0,s.z)({user:e.user}),{navigate:B}=(0,c.useRouter)();return{handleSignOutSessionClicked:o=>()=>0===p.length?t(e.navigateAfterSignOut):t(e.navigateAfterMultiSessionSingleSignOut,{sessionId:o.id}).finally((()=>u.setIdle())),handleManageAccountClicked:()=>{var o;return"navigation"===e.userProfileMode?B(e.userProfileUrl||"").finally((()=>{(async()=>{var o;await(0,l.yy)(300),null===(o=e.actionCompleteCallback)||void 0===o||o.call(e)})()})):(d(e.userProfileProps),null===(o=e.actionCompleteCallback)||void 0===o?void 0:o.call(e))},handleUserProfileActionClicked:o=>{var t;return"navigation"===e.userProfileMode?B(e.userProfileUrl||"").finally((()=>{(async()=>{var o;await(0,l.yy)(300),null===(o=e.actionCompleteCallback)||void 0===o||o.call(e)})()})):(d({...e.userProfileProps,...o&&{__experimental_startPath:o}}),null===(t=e.actionCompleteCallback)||void 0===t?void 0:t.call(e))},handleSignOutAllClicked:()=>t(e.navigateAfterSignOut),handleSessionClicked:t=>async()=>(u.setLoading(),o({session:t,beforeEmit:e.navigateAfterSwitchSession}).finally((()=>{var o;u.setIdle(),null===(o=e.actionCompleteCallback)||void 0===o||o.call(e)}))),handleAddAccountClicked:()=>((0,r.y7)(e.signInUrl||window.location.href),(0,l.yy)(2e3)),otherSessions:p,activeSessions:a}}}}]);